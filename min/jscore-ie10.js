//jsCore v0.4.6-alpha IE10+ github.com/Octane/jsCore
!function(n,t,e,i,r,o,u,a,s,c,f,l,h,m,p,d,g){"use strict";function v(){}(function(){var n=e.create({});return n[0]=null,n.hasOwnProperty(0)})()||new function(){var n=e.create;e.create=function(t,i){var r=n(t,i);return e.hasOwnProperty.call(r,0)||(e.defineProperty(r,0,{configurable:!0}),delete r[0]),r}},e.assign||(e.assign=function(n){return i.prototype.slice.call(arguments,1).forEach(function(t){e.keys(t).forEach(function(e){n[e]=t[e]})}),n}),e.is||(e.is=function(n,t){return 0===n&&0===t?1/n===1/t:n!==n?t!==t:n===t}),i.from||(i.from=function(n,t,r){return e(n).length?t?i.map(n,t,r):i.slice(n,0):[]}),i.of||(i.of=function(){return i.from(arguments)}),i.prototype.find||(i.prototype.find=function(n,t){for(var e,i=this.length,r=0;i>r;){if(r in this&&(e=this[r],n.call(t,e,r,this)))return e;r++}return void 0}),i.prototype.findIndex||(i.prototype.findIndex=function(n,t){for(var e,i=this.length,r=0;i>r;){if(r in this&&(e=this[r],n.call(t,e,r,this)))return r;r++}return-1}),i.prototype.fill||(i.prototype.fill=function(n,t,e){var i,r=this.length;t=u(t)||0,e=2 in arguments?u(e)||0:r,i=0>t?f.max(r+t,0):f.min(t,r),e=0>e?f.max(r+e,0):f.min(e,r);for(;e>i;)this[i]=n,i++;return this}),o.prototype.startsWith||(o.prototype.startsWith=function(n,t){return t||(t=0),this.indexOf(n,t)==t}),o.prototype.endsWith||(o.prototype.endsWith=function(n,t){var e;return t=t||this.length,t-=n.length,e=this.lastIndexOf(n),-1!=e&&e==t}),o.prototype.contains||(o.prototype.contains=function(n,t){return-1!=this.indexOf(n,t||0)}),o.prototype.repeat||(o.prototype.repeat=function(n){return new i(n+1).join(this)}),u.isFinite||(u.isFinite=function(n){return"number"==typeof n&&m(n)}),u.isInteger||(u.isInteger=function(n){return"number"==typeof n&&m(n)&&n>-9007199254740992&&9007199254740992>n&&f.floor(n)==n}),u.isNaN||(u.isNaN=function(n){return"number"==typeof n&&p(n)}),u.parseInt||(u.parseInt=g),u.parseFloat||(u.parseFloat=d),f.trunc||(f.trunc=function(n){return n=u(n),p(n)||0===n||!u.isFinite(n)?n:f.sign(n)*f.floor(f.abs(n))}),f.sign||(f.sign=function(n){return 0===n||p(n)?n:(n>0)-(0>n)}),new function(){function n(n,t){var e=t[0];switch(t.length){case 1:return n.call(e);case 2:return n.call(e,t[1]);case 3:return n.call(e,t[1],t[2])}return n.apply(e,i.prototype.slice.call(t,1))}function t(t){return function(){return n(t,arguments)}}function r(n,e){return e.reduce(function(e,i){return e[i]=t(n[i]),e},{})}function u(n,t){e.keys(t).forEach(function(e){e in n||(n[e]=t[e])})}u(i,r(i.prototype,["concat","every","fill","filter","find","findIndex","forEach","indexOf","join","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","unshift"])),u(o,r(o.prototype,["charAt","charCodeAt","concat","contains","endsWith","indexOf","lastIndexOf","match","repeat","replace","search","slice","split","startsWith","substr","substring","toLowerCase","toUpperCase","trim"]))},n.Set||(n.Set=new function(){function n(){if(arguments.length)throw l("Set implementation doesn't accept parameters");this.length=0}return e.assign(n.prototype,{size:0,add:function(n){this.has(n)||(this.size=i.push(this,n))},has:function(n){return-1!=i.findIndex(this,function(t){return e.is(n,t)})},"delete":function(n){var t=i.findIndex(this,function(t){return e.is(n,t)});return-1==t?!1:(i.splice(this,t,1),this.size--,!0)},clear:function(){i.splice(this,0,this.length),this.size=0}}),n}),n.Map||(n.Map=new function(){function n(){if(arguments.length)throw l("Map implementation doesn't accept parameters");this.length=0}var t=0,r=1;return e.assign(n.prototype,{size:0,_getPair:function(n){return i.find(this,function(i){return e.is(n,i[t])})},set:function(n,t){var e=this._getPair(n);e?e[r]=t:this.size=i.push(this,[n,t])},get:function(n){return e(this._getPair(n))[r]},has:function(n){return a(this._getPair(n))},"delete":function(n){var r=i.findIndex(this,function(i){return e.is(n,i[t])});return-1==r?!1:(i.splice(this,r,1),this.size--,!0)},clear:function(){i.splice(this,0,this.length),this.size=0}}),n}),n.WeakSet||(n.WeakSet=new function(){function n(){if(arguments.length)throw l("WeakSet implementation doesn't accept parameters");this.length=0}function t(n){return this===n}function r(n){if(e(n)!==n)throw h("Invalid value used in weak set");return n}return e.assign(n.prototype,{add:function(n){this.has(r(n))||i.push(this,n)},has:function(n){return-1!=i.findIndex(this,t,r(n))},"delete":function(n){var e=i.findIndex(this,t,r(n));return-1==e?!1:(i.splice(this,e,1),!0)},clear:function(){i.splice(this,0,this.length)}}),n}),n.WeakMap||(n.WeakMap=new function(){function n(){if(arguments.length)throw l("WeakMap implementation doesn't accept parameters");this.length=0}function t(n){return this===n[o]}function r(n){if(e(n)!==n)throw h("Invalid value used as weak map key");return n}var o=0,u=1;return e.assign(n.prototype,{_getPair:function(n){return i.find(this,t,r(n))},set:function(n,t){var e=this._getPair(n);e?e[u]=t:i.push(this,[n,t])},get:function(n){return e(this._getPair(n))[u]},has:function(n){return a(this._getPair(n))},"delete":function(n){var e=i.findIndex(this,t,r(n));return-1==e?!1:(i.splice(this,e,1),!0)},clear:function(){i.splice(this,0,this.length)}}),n}),n.setImmediate||e.assign(n,new function(){function t(t){var e=t[0];switch(t.length){case 1:return e();case 2:return e(t[1]);case 3:return e(t[1],t[2])}return e.apply(n,i.prototype.slice.call(t,1))}function e(n){var e,i=n.data;"string"==typeof i&&i.startsWith(a)&&(e=o[i],e&&(delete o[i],t(e)))}var r=0,o={},u=!0,a="setImmediatePolyfillMessage";return{setImmediate:function(){var t=r++,i=a+t;return o[i]=arguments,u&&(u=!1,n.addEventListener("message",e)),n.postMessage(i,"*"),t},clearImmediate:function(n){delete o[a+n]}}}),n.Promise||(n.Promise=new function(){function t(t){return r(t)?t:new l(function(e,i){n.setImmediate(function(){try{t.then(e,i)}catch(n){i(n)}})})}function r(n){return n instanceof l}function o(n){return"then"in e(n)}function u(n){return n._fulfilled||n._rejected}function a(n){return i.every(n,u)}function s(n){return n}function c(n){throw n}function f(n){n()}function l(n){e.assign(this,{_fulfilled:!1,_rejected:!1,_value:void 0,_reason:void 0,_onFulfilled:[],_onRejected:[]}),this._resolve(n)}return e.assign(l,{resolve:function(n){return o(n)?t(n):new l(function(t){t(n)})},reject:function(n){return new l(function(t,e){e(n)})},race:function(n){return new l(function(e,r){i.forEach(n,function(n){t(n).then(e,r)})})},all:function(n){return new l(function(e,r){var o=[];n=i.map(n,t),n.forEach(function(t,i){t.then(function(t){o[i]=t,a(n)&&e(o)},r)})})}}),e.assign(l.prototype,{_resolve:function(n){function t(n){i._fulfill(n)}function e(n){i._reject(n)}var i=this;try{n(t,e)}catch(r){u(i)||e(r)}},_fulfill:function(n){u(this)||(this._fulfilled=!0,this._value=n,this._onFulfilled.forEach(f),this._clearQueue())},_reject:function(n){u(this)||(this._rejected=!0,this._reason=n,this._onRejected.forEach(f),this._clearQueue())},_enqueue:function(n,t){this._onFulfilled.push(n),this._onRejected.push(t)},_clearQueue:function(){this._onFulfilled=[],this._onRejected=[]},then:function(e,i){var r=this;return new l(function(u,a){function f(){n.setImmediate(function(){var n;try{n=e(r._value)}catch(i){return void a(i)}o(n)?t(n).then(u,a):u(n)})}function l(){n.setImmediate(function(){var n;try{n=i(r._reason)}catch(e){return void a(e)}o(n)?t(n).then(u,a):u(n)})}e=e||s,i=i||c,r._fulfilled?f():r._rejected?l():r._enqueue(f,l)})},"catch":function(n){return this.then(void 0,n)}}),l}),n.requestAnimationFrame||e.assign(n,{requestAnimationFrame:[n.msRequestAnimationFrame,n.mozRequestAnimationFrame,n.webkitRequestAnimationFrame,new function(){var t=60,e=1e3/t,i=s.now(),r=i;return function(t){var o=s.now(),u=f.max(0,e-(o-r)),a=o+u;return r=a,n.setTimeout(function(){t(a-i)},u)}}].find(a),cancelAnimationFrame:[n.mozCancelAnimationFrame,n.webkitCancelAnimationFrame,n.cancelRequestAnimationFrame,n.msCancelRequestAnimationFrame,n.mozCancelRequestAnimationFrame,n.webkitCancelRequestAnimationFrame,n.clearTimeout].find(a)}),"dataset"in t.documentElement||e.defineProperty(HTMLElement.prototype,"dataset",{get:new function(){function n(n){return n.charAt(1).toUpperCase()}function t(t){return t.substr(5).replace(/-./g,n)}function r(n){return{get:function(){return n.value},set:function(t){n.value=o(t)}}}function u(n,o){return i.forEach(o,function(i){var o=i.name.toLowerCase();o.startsWith("data-")&&e.defineProperty(n,t(o),r(i))}),n}return function(){return u(new v,this.attributes)}}}),"children"in t.createDocumentFragment()||new function(){function n(n){n in i||e.defineProperty(i,n,{get:o[n]})}var i,r=1,o={firstElementChild:function(){for(var n=this.firstChild;n&&r!=n.nodeType;)n=n.nextSibling;return n},lastElementChild:function(){for(var n=this.lastChild;n&&r!=n.nodeType;)n=n.previousSibling;return n},nextElementSibling:function(){var n=this;do n=n.nextSibling;while(n&&r!=n.nodeType);return n},previousElementSibling:function(){var n=this;do n=n.previousSibling;while(n&&r!=n.nodeType);return n},childElementCount:function(){return this.children.length},children:new function(){function n(){}return n.prototype.item=function(n){return this[n]||null},function(){for(var t,e=new n,i=this.childNodes,o=i.length,u=0,a=0;o>u;)t=i[u],r==t.nodeType&&(e[a++]=t),u++;return e.length=a,e}}};i=HTMLElement.prototype,e.keys(o).forEach(n),[t.constructor,t.createDocumentFragment().constructor].forEach(function(t){i=t.prototype,["firstElementChild","lastElementChild","childElementCount","children"].forEach(n)})},"append"in t.createDocumentFragment()||new function(){function n(n,t,e){return-1!=i.indexOf(n.querySelectorAll(e),t)}function r(n){var e,r,o,u=n.length;if(1==u)return e=n[0],"string"==typeof e?t.createTextNode(e):e;for(r=t.createDocumentFragment(),n=i.from(n),o=0;u>o;)e=n[o],"string"==typeof e&&(e=t.createTextNode(e)),r.appendChild(e),o++;return r}function o(n){n in s||(s[n]=c[n])}var u=1,s=HTMLElement.prototype,c={before:function(){var n=this.parentNode;n&&n.insertBefore(r(arguments),this)},after:function(){var n,t,e=this.parentNode;e&&(t=r(arguments),n=this.nextSibling,n?e.insertBefore(t,n):e.appendChild(t))},replace:function(){var n=this.parentNode;n&&n.replaceChild(r(arguments),this)},remove:function(){var n=this.parentNode;n&&n.removeChild(this)},append:function(){this.appendChild(r(arguments))},prepend:function(){this.insertBefore(r(arguments),this.firstChild)},query:function(n){return this.querySelector(n)},queryAll:function(n){return this.querySelectorAll(n)},matches:[s.matchesSelector,s.oMatchesSelector,s.msMatchesSelector,s.mozMatchesSelector,s.webkitMatchesSelector,function(e){var i,r;return this===t?!1:(r=this.parentNode)?(u==r.nodeType&&(r=r.ownerDocument),n(r,this,e)):(r=t.createDocumentFragment(),r.appendChild(this),i=n(r,this,e),void r.removeChild(this))}].find(a)};e.keys(c).forEach(o),s=t.constructor.prototype,["query","queryAll"].forEach(o),s=t.createDocumentFragment().constructor.prototype,["append","prepend","query","queryAll","matches"].forEach(o)},n.lib={},e.assign(lib,{isTrue:function(n){return!0===n},isFalse:function(n){return!1===n},isHTML:function(n){return n.startsWith("<")&&n.endsWith(">")},isObject:function(n){return e(n)===n},isHTMLElement:function(n){return n instanceof HTMLElement}}),lib.classExtends=function(n,t){n.prototype=e.create(t.prototype),n.prototype.constructor=n,n.Super=t},lib.array={count:function(n){return i.reduce(n,function(n){return n+1},0)},contains:function(n,t,e){return-1!=i.indexOf(n,t,e)},unique:function(n){for(var t,e=[],i=n.length,r=0,o=0;i>r;)t=n[r],-1==e.indexOf(t)&&(e[o++]=t),r++;return e},all:function(n,t,i){var r=e(n).length;if(!r)return!1;for(;r--;){if(!(r in n))return!1;if(!t.call(i,n[r]))return!1}return!0},refine:function(n){return i.reduce(n,function(n,t){return n.push(t),n},[])},range:function(n,t){var e=[];1 in arguments||(t=n,n=0);for(;t>n;)e.push(n),n++;return e},shuffle:function(n){for(var t,e,r=i.from(n),o=r.length;o--;)t=f.floor(f.random()*(o+1)),e=r[t],r[t]=r[o],r[o]=e;return r},remove:function(n,t){var e=i.indexOf(n,t);return-1!=e&&i.splice(n,e,1)}},lib.date=new function(){var n=this,t=[31,28,31,30,31,30,31,31,30,31,30,31];n.isLeapYear=function(n){return arguments.length||(n=new s),n instanceof s&&(n=n.getFullYear()),n%4==0&&n%100!=0||n%400==0},n.getMonthLength=function(e,i){return arguments.length||(e=new s),e instanceof s&&(i=e.getFullYear(),e=e.getMonth()),1==e&&n.isLeapYear(i)?29:t[e]}},lib.html={parse:function(n){var e=t.createElement("div"),i=t.createDocumentFragment();for(e.innerHTML=n;e.hasChildNodes();)i.appendChild(e.firstChild);return i},escape:function(n){var e=t.createElement("div");return e.appendChild(t.createTextNode(n)),e.innerHTML},unescape:function(n){var e=t.createElement("div");return e.innerHTML=n,e.textContent}},lib.Template=new function(){function n(n){this.template=n}return n.match=function(n,t){return i.isArray(n)&&(n=n.join("")),e.keys(t).reduceRight(function(n,e){var i=t[e];return n.split("{"+e.toUpperCase()+"}").join(i)},n)},n.prototype.match=function(t){return n.match(this.template,t)},n},lib.I18n=new function(){function n(n){this.messageBundle=this[n]}function t(n,t){this.locale=n,this[n]=t}function e(e,i){function r(n,t){return n in r.messageBundle&&(n=r.messageBundle[n]),t?lib.Template.match(n,t):n}return r.add=t,r.use=n,r.add(e,i),r.use(e),r}return e},lib.css=new function(){var r,o=this;o.prefix=r=new function(){var n={},e=["ms","O","Webkit","Moz"],i=new function(){var n=t.documentElement.style,e=n.constructor.prototype;return"top"in e?e:n};return function(t){var r,o,u;if(t in n)return n[t];if(t in i)return n[t]=t,t;for(o=t.charAt(0).toUpperCase()+t.slice(1),u=e.length;u--;)if(r=e[u]+o,r in i)return n[t]=r,r;return void(n[t]=void 0)}},new function(){var n={animation:["Delay","Direction","Duration","FillMode","IterationCount","Name","PlayState","TimingFunction"],transition:["Delay","Duration","Property","TimingFunction"],transform:["Origin","Style"]};e.keys(n).forEach(function(t){var e=r(t);e&&(o[t]=e,n[t].forEach(function(n){o[t+n]=e+n}))})},o.getAnimationNames=new function(){function n(n){return"none"!=n}var t=/,\s*/;return function(e){var i=e[o.animationName];return i?i.split(t).filter(n):[]}},o.set=new function(){function t(n,t){e.keys(t).forEach(function(e){n[r(e)]=t[e]})}return o.transition||o.animation?function(e,i){var r=n.getComputedStyle(e),u=o.getAnimationNames(r);return t(e.style,i),lib.event.awaitTransAnimEnd(e,u)}:function(n,e){return t(n.style,e),Promise.resolve(n)}},o.get=function(t,e){var o=n.getComputedStyle(t);return i.isArray(e)?e.reduce(function(n,t){return n[t]=o[r(t)],n},{}):o[r(e)]},o.getTransitionTime=o.transition?new function(){function n(n){return n.split(",").map(function(n){return u.parseFloat(n)||0})}function t(n,t){for(var e,i=0,r=f.max(t.length,n.length),o=0;r>o;)e=(n[o]||0)+(t[o]||0),e>i&&(i=e),o++;return f.ceil(1e3*i)}return function(e){return t(n(e[o.transitionDelay]),n(e[o.transitionDuration]))}}:function(){return 0}},lib.event=e.assign({preventDefault:function(n){n.preventDefault()},stopPropagation:function(n){n.stopPropagation()}},new function(){function n(n){n.eventTypes.forEach(function(t){n.element.removeEventListener(t,n.callback)})}function t(n,t,e,i){var r;return 3==arguments.length&&(i=e,e=t,t=void 0),t?(t+=","+t+" *",r=function(e){var r=e.target;r.matches&&r.matches(t)&&(i.handleEvent?i.handleEvent(e):i.call(n,e))}):r=i,"string"==typeof e&&(e=e.split(/[\s,]+/)),e.forEach(function(t){n.addEventListener(t,r)}),{element:n,eventTypes:e,callback:r}}function e(e,i,r,o){function u(t){n(a),o.handleEvent?o.handleEvent(t):o.call(e,t)}var a;3==arguments.length&&(o=r,r=i,i=void 0),a=t(e,i,r,u)}function i(n,t,i){return 2==arguments.length&&(i=t,t=void 0),new Promise(function(r){e(n,t,i,r)})}return{off:n,on:t,one:e,when:i}},new function(){function t(n,t){return n?t.reduce(function(t,e){return-1==n.indexOf(e)&&t.push(e),t},[]):t}function e(n,t){var e=n.indexOf(t);return-1!=e&&n.splice(e,1),n.length}function i(n,t){return t||(t=u.getAnimationNames(n)),t.length?new Promise(function(i){function r(o){o.target!=n||e(t,o.animationName)||(n.removeEventListener(c,r),i(n))}n.addEventListener(c,r)}):Promise.resolve(n)}function r(t,e){var i;return e||(e=n.getComputedStyle(t)),i=u.getTransitionTime(e),i?new Promise(function(e){n.setTimeout(function(){e(t)},i)}):Promise.resolve(t)}function o(e,o){var a=n.getComputedStyle(e),s=u.getAnimationNames(a);return s=t(o,s),Promise.all([i(e,s),r(e,a)]).then(function(){return e})}var u=lib.css,a=u.animation,s=u.transition,c={animation:"animationend",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"}[a],f=Promise.resolve;return{animationEnd:c,animationStart:{animation:"animationstart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"}[a],animationIteration:{animation:"animationiteration",MozAnimation:"mozAnimationIteration",WebkitAnimation:"webkitAnimationIteration"}[a],transitionEnd:{transition:"transitionend",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd"}[s],awaitAnimationEnd:a?i:f,awaitTransitionEnd:s?r:f,awaitTransAnimEnd:a||s?o:f}}),lib.dom=e.assign({ready:function(){return"complete"==t.readyState?Promise.resolve():lib.event.when(t,"DOMContentLoaded")}},new function(){function t(n,t,e){var i=n.className,r=n.classList;return e.forEach(function(n){r[t](n)}),i!=n.className}function e(n,t){return o(t[0],n,i.slice(t,1))}var r=lib.css,o=r.animation||r.transition?function(e,i,o){var u=n.getComputedStyle(e),a=r.getAnimationNames(u);return t(e,i,o)?lib.event.awaitTransAnimEnd(e,a):Promise.resolve(e)}:function(n,e,i){return t(n,e,i),Promise.resolve(n)};return{addClass:function(){return e("add",arguments)},removeClass:function(){return e("remove",arguments)},toggleClass:function(){return e("toggle",arguments)}}}),lib.request=new function(){function i(n,t){return encodeURIComponent(n)+"="+encodeURIComponent(t)}function r(n){return e.keys(n).reduce(function(t,e){return t.push(i(e,n[e])),t},[]).join("&")}function o(n){n.onload=null,n.onerror=null,n.ontimeout=null}function u(t){var i=(t.method||"GET").toUpperCase(),u=t.url||n.location.href,s=t.data,c=t.userName||"",f=t.password||"",h=t.timeout||0,m=!1!==t.async,p=!1!==t.caching,d=!0===t.credentials,g=t.mimeType,v={"X-Requested-With":"XMLHttpRequest"};return e(s)===s&&(s instanceof FormData?v["Content-Type"]="multipart/form-data":s=r(s)),"POST"==i?v["Content-Type"]=v["Content-Type"]||"application/x-www-form-urlencoded; charset=UTF-8":(p||(u+="?no-cache="+a()),"string"==typeof s&&(u+=(p?"?":"&")+s),s=null),t.headers&&e.assign(v,t.headers),new Promise(function(n,t){function r(){o(this),this.status>=200&&this.status<400?n(this):t(new l(this.statusText))}function a(){o(this),t(new l(this.statusText))}function p(){o(this),t(new l("time is out"))}!new function(){var n=new XMLHttpRequest;n.open(i,u,m,c,f),d&&(n.withCredentials=!0),g&&n.overrideMimeType(g),e.keys(v).forEach(function(t){n.setRequestHeader(t,v[t])}),n.onload=r,n.onerror=a,h&&(n.timeout=h,n.ontimeout=p),n.send(s)}})}var a=new function(){var n={};return function(){var t=f.random().toString().slice(2);return n[t]?a():(n[t]=1,t)}};return e.assign(u,{toQueryParam:i,toQueryString:r,get:function(n){return"string"==typeof n&&(n={url:n}),n.method="GET",u(n)},post:function(n){return n.method="POST",u(n)},json:function(n){return u.get(n).then(function(n){return JSON.parse(n.responseText)})},jsonp:function(n){return u.script(n)},script:function(i){var u,s,c;return"string"==typeof i&&(i={url:i}),u=i.url||n.location.href,s=i.data,c=i.caching!==!1,e(s)===s&&(s=r(s)),c||(u+="?no-cache="+a()),"string"==typeof s&&(u+=(c?"?":"&")+s),new Promise(function(n,i){t.head.appendChild(e.assign(t.createElement("script"),{onload:function(){o(this),this.remove(),n()},onerror:function(){o(this),this.remove(),i(new l("Could not load script"))},async:!0,defer:!0,src:u}))})}}),u}}(window,document,Object,Array,Function,String,Number,Boolean,Date,RegExp,Math,Error,TypeError,isFinite,isNaN,parseFloat,parseInt);