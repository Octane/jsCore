//jsCore v0.7.0 IE9+ github.com/Octane/jsCore
!function(n,t,e,i,r,o,a,u,s,c,f,l,h,p,m,d,g){"use strict";function v(){}(function(){var n=e.create({});return n[0]=null,n.hasOwnProperty(0)})()||new function(){var n=e.create;e.create=function(t,i){var r=n(t,i);return e.hasOwnProperty.call(r,0)||(e.defineProperty(r,0,{configurable:!0}),delete r[0]),r}},e.assign||(e.assign=function(n){return i.prototype.slice.call(arguments,1).forEach(function(t){t&&e.keys(t).forEach(function(e){n[e]=t[e]})}),n}),e.is||(e.is=function(n,t){return 0===n&&0===t?1/n===1/t:n!==n?t!==t:n===t}),e.setPrototypeOf||(e.setPrototypeOf=function(n,t){return n.__proto__=t,n}),i.from||(i.from=function(n,t,e){return t?i.map(n,t,e):i.slice(n,0)}),i.of||(i.of=function(){return i.from(arguments)}),i.prototype.find||(i.prototype.find=function(n,t){for(var e,i=this.length,r=0;i>r;){if(e=this[r],n.call(t,e,r,this))return e;r++}return void 0}),i.prototype.findIndex||(i.prototype.findIndex=function(n,t){for(var e,i=this.length,r=0;i>r;){if(e=this[r],n.call(t,e,r,this))return r;r++}return-1}),i.prototype.fill||(i.prototype.fill=function(n,t,e){var i,r=this.length;t=a(t)||0,e=2 in arguments?a(e)||0:r,i=0>t?f.max(r+t,0):f.min(t,r),e=0>e?f.max(r+e,0):f.min(e,r);for(;e>i;)this[i]=n,i++;return this}),i.prototype.contains||(i.prototype.contains=function(n,t){var e,r=this.length;if(!r)return!1;if(a.isNaN(n)){1 in arguments?(t=a(t)||0,e=0>t?f.max(r+t,0):t):e=0;for(;r>e;){if(e in this&&a.isNaN(this[e]))return!0;e++}return!1}return-1!=i.prototype.indexOf.call(this,n,t)}),o.prototype.startsWith||(o.prototype.startsWith=function(n,t){return t||(t=0),this.indexOf(n,t)==t}),o.prototype.endsWith||(o.prototype.endsWith=function(n,t){var e;return t=t||this.length,t-=n.length,e=this.lastIndexOf(n),-1!=e&&e==t}),o.prototype.contains||(o.prototype.contains=function(n,t){return-1!=this.indexOf(n,t||0)}),o.prototype.repeat||(o.prototype.repeat=function(n){return new i(n+1).join(this)}),a.isFinite||(a.isFinite=function(n){return"number"==typeof n&&p(n)}),a.isInteger||(a.isInteger=function(n){return"number"==typeof n&&p(n)&&n>-9007199254740992&&9007199254740992>n&&f.floor(n)==n}),a.isNaN||(a.isNaN=function(n){return"number"==typeof n&&m(n)}),a.parseInt||(a.parseInt=g),a.parseFloat||(a.parseFloat=d),f.trunc||(f.trunc=function(n){return n=a(n),m(n)||0===n||!a.isFinite(n)?n:f.sign(n)*f.floor(f.abs(n))}),f.sign||(f.sign=function(n){return 0===n||m(n)?n:(n>0)-(0>n)}),new function(){function n(n,t){var e=t[0];switch(t.length){case 1:return n.call(e);case 2:return n.call(e,t[1]);case 3:return n.call(e,t[1],t[2])}return n.apply(e,i.prototype.slice.call(t,1))}function t(t){return function(){return n(t,arguments)}}function r(n,e){return e.reduce(function(e,i){return e[i]=t(n[i]),e},{})}function a(n,t){e.keys(t).forEach(function(e){e in n||(n[e]=t[e])})}a(i,r(i.prototype,["concat","every","fill","filter","find","findIndex","forEach","indexOf","join","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","unshift","contains"])),a(o,r(o.prototype,["charAt","charCodeAt","concat","contains","endsWith","indexOf","lastIndexOf","match","repeat","replace","search","slice","split","startsWith","substr","substring","toLowerCase","toUpperCase","trim"]))},n.Set||(n.Set=new function(){function n(){if(arguments.length)throw l("Set implementation doesn't accept parameters");this.length=0}return e.assign(n.prototype,{size:0,add:function(n){this.has(n)||(this.size=i.push(this,n))},has:function(n){return-1!=i.findIndex(this,function(t){return e.is(n,t)})},"delete":function(n){var t=i.findIndex(this,function(t){return e.is(n,t)});return-1==t?!1:(i.splice(this,t,1),this.size--,!0)},clear:function(){i.splice(this,0,this.length),this.size=0}}),n}),n.Map||(n.Map=new function(){function n(){if(arguments.length)throw l("Map implementation doesn't accept parameters");this.length=0}var t=0,r=1;return e.assign(n.prototype,{size:0,_getPair:function(n){return i.find(this,function(i){return e.is(n,i[t])})},set:function(n,t){var e=this._getPair(n);e?e[r]=t:this.size=i.push(this,[n,t])},get:function(n){return e(this._getPair(n))[r]},has:function(n){return u(this._getPair(n))},"delete":function(n){var r=i.findIndex(this,function(i){return e.is(n,i[t])});return-1==r?!1:(i.splice(this,r,1),this.size--,!0)},clear:function(){i.splice(this,0,this.length),this.size=0}}),n}),n.WeakSet||(n.WeakSet=new function(){function n(){if(arguments.length)throw l("WeakSet implementation doesn't accept parameters");this.length=0}function t(n){return this===n}function r(n){if(e(n)!==n)throw h("Invalid value used in weak set");return n}return e.assign(n.prototype,{add:function(n){this.has(r(n))||i.push(this,n)},has:function(n){return-1!=i.findIndex(this,t,r(n))},"delete":function(n){var e=i.findIndex(this,t,r(n));return-1==e?!1:(i.splice(this,e,1),!0)},clear:function(){i.splice(this,0,this.length)}}),n}),n.WeakMap||(n.WeakMap=new function(){function n(){if(arguments.length)throw l("WeakMap implementation doesn't accept parameters");this.length=0}function t(n){return this===n[o]}function r(n){if(e(n)!==n)throw h("Invalid value used as weak map key");return n}var o=0,a=1;return e.assign(n.prototype,{_getPair:function(n){return i.find(this,t,r(n))},set:function(n,t){var e=this._getPair(n);e?e[a]=t:i.push(this,[n,t])},get:function(n){return e(this._getPair(n))[a]},has:function(n){return u(this._getPair(n))},"delete":function(n){var e=i.findIndex(this,t,r(n));return-1==e?!1:(i.splice(this,e,1),!0)},clear:function(){i.splice(this,0,this.length)}}),n}),n.setImmediate||e.assign(n,new function(){function t(t){var e=t[0];switch(t.length){case 1:return e();case 2:return e(t[1]);case 3:return e(t[1],t[2])}return e.apply(n,i.prototype.slice.call(t,1))}function e(n){var e,i=n.data;"string"==typeof i&&i.startsWith(u)&&(e=o[i],e&&(delete o[i],t(e)))}var r=0,o={},a=!0,u="setImmediatePolyfillMessage";return{setImmediate:function(){var t=r++,i=u+t;return o[i]=arguments,a&&(a=!1,n.addEventListener("message",e)),n.postMessage(i,"*"),t},clearImmediate:function(n){delete o[u+n]}}}),n.Promise||(n.Promise=new function(){function t(t){return r(t)?t:new l(function(e,i){n.setImmediate(function(){try{t.then(e,i)}catch(n){i(n)}})})}function i(n){return"function"==typeof n}function r(n){return n instanceof l}function o(n){return e(n)===n&&i(n.then)}function a(n){return n._fulfilled||n._rejected}function u(n){return n}function s(n){throw n}function c(n){n()}function f(n,e,i){function r(n){o(n)?t(n).then(r,a):e(n)}function a(n){o(n)?t(n).then(r,a):i(n)}t(n).then(r,a)}function l(n){e.assign(this,{_fulfilled:!1,_rejected:!1,_value:void 0,_reason:void 0,_onFulfilled:[],_onRejected:[]}),this._resolve(n)}return e.assign(l,{resolve:function(n){return o(n)?t(n):new l(function(t){t(n)})},reject:function(n){return new l(function(t,e){e(n)})},race:function(n){return new l(function(t,e){for(var i,r=n.length,a=0;r>a;)i=n[a],o(i)?f(i,t,e):t(i),a++})},all:function(n){return new l(function(t,e){var i,r=0,a=0,u=n.length,s=0;for(n=n.slice(0);u>s;)i=n[s],o(i)?(r++,f(i,function(e){return function(i){n[e]=i,a++,a==r&&t(n)}}(s),e)):n[s]=i,s++;r||t(n)})}}),e.assign(l.prototype,{_resolve:function(n){function t(n){i._fulfill(n)}function e(n){i._reject(n)}var i=this;try{n(t,e)}catch(r){a(i)||e(r)}},_fulfill:function(n){a(this)||(this._fulfilled=!0,this._value=n,this._onFulfilled.forEach(c),this._clearQueue())},_reject:function(n){a(this)||(this._rejected=!0,this._reason=n,this._onRejected.forEach(c),this._clearQueue())},_enqueue:function(n,t){this._onFulfilled.push(n),this._onRejected.push(t)},_clearQueue:function(){this._onFulfilled=[],this._onRejected=[]},then:function(e,r){var a=this;return e=i(e)?e:u,r=i(r)?r:s,new l(function(i,u){function s(){n.setImmediate(function(){var n;try{n=e(a._value)}catch(r){return void u(r)}o(n)?t(n).then(i,u):i(n)})}function c(){n.setImmediate(function(){var n;try{n=r(a._reason)}catch(e){return void u(e)}o(n)?t(n).then(i,u):i(n)})}e=e||defaultOnFulfilled,r=r||defaultOnRejected,a._fulfilled?s():a._rejected?c():a._enqueue(s,c)})},"catch":function(n){return this.then(void 0,n)}}),l}),n.requestAnimationFrame||e.assign(n,{requestAnimationFrame:[n.msRequestAnimationFrame,n.mozRequestAnimationFrame,n.webkitRequestAnimationFrame,new function(){var t=60,e=1e3/t,i=s.now(),r=i;return function(t){var o=s.now(),a=f.max(0,e-(o-r)),u=o+a;return r=u,n.setTimeout(function(){t(u-i)},a)}}].find(u),cancelAnimationFrame:[n.mozCancelAnimationFrame,n.webkitCancelAnimationFrame,n.cancelRequestAnimationFrame,n.msCancelRequestAnimationFrame,n.mozCancelRequestAnimationFrame,n.webkitCancelRequestAnimationFrame,n.clearTimeout].find(u)}),"dataset"in t.documentElement||e.defineProperty(HTMLElement.prototype,"dataset",{get:new function(){function n(n){return n.charAt(1).toUpperCase()}function t(t){return t.substr(5).replace(/-./g,n)}function r(n){return{get:function(){return n.value},set:function(t){n.value=o(t)}}}function a(n,o){return i.forEach(o,function(i){var o=i.name.toLowerCase();o.startsWith("data-")&&e.defineProperty(n,t(o),r(i))}),n}return function(){return a(new v,this.attributes)}}}),"children"in t.createDocumentFragment()||new function(){function n(n){n in i||e.defineProperty(i,n,{get:o[n]})}var i,r=1,o={firstElementChild:function(){for(var n=this.firstChild;n&&r!=n.nodeType;)n=n.nextSibling;return n},lastElementChild:function(){for(var n=this.lastChild;n&&r!=n.nodeType;)n=n.previousSibling;return n},nextElementSibling:function(){var n=this;do n=n.nextSibling;while(n&&r!=n.nodeType);return n},previousElementSibling:function(){var n=this;do n=n.previousSibling;while(n&&r!=n.nodeType);return n},childElementCount:function(){return this.children.length},children:new function(){function n(){}return n.prototype.item=function(n){return this[n]||null},function(){for(var t,e=new n,i=this.childNodes,o=i.length,a=0,u=0;o>a;)t=i[a],r==t.nodeType&&(e[u++]=t),a++;return e.length=u,e}}};i=HTMLElement.prototype,e.keys(o).forEach(n),[t.constructor,t.createDocumentFragment().constructor].forEach(function(t){i=t.prototype,["firstElementChild","lastElementChild","childElementCount","children"].forEach(n)})},t.documentElement.matches||new function(){var n=HTMLElement.prototype;n.matches=[n.matchesSelector,n.oMatchesSelector,n.msMatchesSelector,n.mozMatchesSelector,n.webkitMatchesSelector].find(u),n.matches||(n.matches=new function(){function n(n,t,e){return i.contains(n.querySelectorAll(e),t)}var e=1;return function(i){var r,o=this.parentNode;return o?(e==o.nodeType&&(o=o.ownerDocument),n(o,this,i)):(o=t.createDocumentFragment(),o.appendChild(this),r=n(o,this,i),void o.removeChild(this))}})},new function(){var n=t.createDocumentFragment(),e=n.constructor.prototype,i=HTMLElement.prototype;n.querySelector||(e.querySelector=i.querySelector,e.querySelectorAll=i.querySelectorAll)},"classList"in t.documentElement||e.defineProperty(HTMLElement.prototype,"classList",{get:new function(){function n(n,t){this._getTokens=n,this._onChange=t}function t(n){return n=n.trim(),n?n.split(/\s\s*/):[]}return e.assign(n.prototype,{_clear:function(){i.splice(this,0,this.length)},_push:function(n){i.prototype.push.apply(this,n)},_update:function(){this._clear(),this._push(this._getTokens())},item:function(n){return this._update(),this[n]||null},add:function(){var n;this._update(),n=this.length,i.forEach(arguments,function(n){i.contains(this,n)||i.push(this,n)},this),n!=this.length&&this._onChange()},remove:function(){var n;this._update(),n=this.length,i.forEach(arguments,function(n){var t=i.indexOf(this,n);-1!=t&&i.splice(this,t,1)},this),n!=this.length&&this._onChange()},toggle:function(n,t){return this._update(),t===!1||this.contains(n)?(this.remove(n),!1):(this.add(n),!0)},contains:function(n){return this._update(),i.contains(this,n)},toString:function(){return i.join(this," ")}}),function(){var e=this;return e._classList||(e._classList=new n(function(){return t(e.className)},function(){e.className=this.toString()})),e._classList._update(),e._classList}}}),n.FormData||(n.FormData=new function(){function n(n){this.boundary=t(),n&&i.prototype.push.apply(this,r(n))}var t=new function(){function n(){var e=f.random().toString().slice(2);return t[e]?n():(t[e]=1,e)}var t={};return function(){return"-------------------------"+n()}},r=new function(){function n(n){return n.selected}function t(t){var e=t.nodeName.toLowerCase(),r=t.type;return t.name?t.disabled?!1:"fieldset"==e?!1:"select"==e&&t.multiple?i.some(t.options,n):"submit"==r||"reset"==r||"button"==r||"file"==r?!1:"radio"!=r&&"checkbox"!=r||!t.checked?!0:!1:!1}function e(t){return"select"==t.tagName.toLowerCase()&&t.multiple?i.reduce(t.options,function(t,e){return n(e)&&t.push(e.value),t},[]):[t.value]}return function(n){return i.reduce(n.elements,function(n,i){return t(i)&&e(i).forEach(function(t){n.push({name:i.name,value:t})}),n},[])}};return e.assign(n.prototype,{notNative:!0,append:function(n,t,e){i.push(this,{name:n,value:t,fileName:e})},toString:function(){var n=this.boundary,t="";return i.forEach(this,function(i){var r,o=i.name,a=i.value;t+="--"+n+"\r\n",e(a)===a?(r=i.fileName||a.name,t+='Content-Disposition: form-data; name="',t+=o+'"; filename="'+r+'"\r\n',t+="Content-Type: "+a.type+"\r\n\r\n",t+=a.content+"\r\n"):(t+='Content-Disposition: form-data; name="',t+=o+'"\r\n\r\n',t+=a+"\r\n")}),t+="--"+n+"--"}}),XMLHttpRequest.prototype.send=new function(){var t=XMLHttpRequest.prototype.send;return function(e){e instanceof n&&(this.setRequestHeader("Content-Type","multipart/form-data; boundary="+e.boundary),e=e.toString()),t.call(this,e)}},n}),history.pushState||new function(){},n.lib={},lib.classExtends=function(n,t){n.prototype=e.create(t.prototype),n.prototype.constructor=n,n.Super=t},lib.array={count:function(n){return i.reduce(n,function(n){return n+1},0)},unique:function(n){for(var t,e=[],i=n.length,r=0,o=0;i>r;)t=n[r],-1==e.indexOf(t)&&(e[o++]=t),r++;return e},all:function(n,t,i){var r=e(n).length;if(!r)return!1;for(;r--;){if(!(r in n))return!1;if(!t.call(i,n[r]))return!1}return!0},refine:function(n){return i.reduce(n,function(n,t){return n.push(t),n},[])},range:function(n,t){var e=[];1 in arguments||(t=n,n=0);for(;t>n;)e.push(n),n++;return e},shuffle:function(n){for(var t,e,r=i.from(n),o=r.length;o--;)t=f.floor(f.random()*(o+1)),e=r[t],r[t]=r[o],r[o]=e;return r},remove:function(n,t){var e=i.indexOf(n,t);return-1!=e&&i.splice(n,e,1)}},lib.date=new function(){var n=this,t=[31,28,31,30,31,30,31,31,30,31,30,31];n.isLeapYear=function(n){return arguments.length||(n=new s),n instanceof s&&(n=n.getFullYear()),n%4==0&&n%100!=0||n%400==0},n.getMonthLength=function(e,i){return arguments.length||(e=new s),e instanceof s&&(i=e.getFullYear(),e=e.getMonth()),1==e&&n.isLeapYear(i)?29:t[e]}},lib.html={parse:function(n){var e=t.createElement("div"),i=t.createDocumentFragment();for(e.innerHTML=n;e.hasChildNodes();)i.appendChild(e.firstChild);return i},escape:function(n){var e=t.createElement("div");return e.appendChild(t.createTextNode(n)),e.innerHTML},unescape:function(n){var e=t.createElement("div");return e.innerHTML=n,e.textContent}},lib.Template=new function(){function n(n,t){return e.keys(t).reduceRight(function(n,e){var i=t[e];return n.split("{"+e.toUpperCase()+"}").join(i)},n)}function t(t){return function(e){return n(t,e)}}return t.match=n,t},lib.I18n=new function(){function n(n){this.messageBundle=this[n]}function t(n,t){this.locale=n,this[n]=t}function e(e,i){function r(n,t){return n in r.messageBundle&&(n=r.messageBundle[n]),t?lib.Template.match(n,t):n}return r.add=t,r.use=n,r.add(e,i),r.use(e),r}return e},lib.css=new function(){var r,o=this;o.prefix=r=new function(){var n={},e=["ms","O","Webkit","Moz"],i=new function(){var n=t.documentElement.style,e=n.constructor.prototype;return"top"in e?e:n};return function(t){var r,o,a;if(t in n)return n[t];if(t in i)return n[t]=t,t;for(o=t.charAt(0).toUpperCase()+t.slice(1),a=e.length;a--;)if(r=e[a]+o,r in i)return n[t]=r,r;return void(n[t]=void 0)}},new function(){var n={animation:["Delay","Direction","Duration","FillMode","IterationCount","Name","PlayState","TimingFunction"],transition:["Delay","Duration","Property","TimingFunction"],transform:["Origin","Style"]};e.keys(n).forEach(function(t){var e=r(t);e&&(o[t]=e,n[t].forEach(function(n){o[t+n]=e+n}))})},o.getAnimationNames=new function(){function n(n){return"none"!=n}var t=/,\s*/;return function(e){var i=e[o.animationName];return i?i.split(t).filter(n):[]}},o.set=new function(){function t(n,t){e.keys(t).forEach(function(e){n[r(e)]=t[e]})}return o.transition||o.animation?function(e,i){var r=n.getComputedStyle(e),a=o.getAnimationNames(r);return t(e.style,i),lib.event.awaitTransAnimEnd(e,a)}:function(n,e){return t(n.style,e),Promise.resolve(n)}},o.get=function(t,e){var o=n.getComputedStyle(t);return i.isArray(e)?e.reduce(function(n,t){return n[t]=o[r(t)],n},{}):o[r(e)]},o.getTransitionTime=o.transition?new function(){function n(n){return n.split(",").map(function(n){return a.parseFloat(n)||0})}function t(n,t){for(var e,i=0,r=f.max(t.length,n.length),o=0;r>o;)e=(n[o]||0)+(t[o]||0),e>i&&(i=e),o++;return f.ceil(1e3*i)}return function(e){return t(n(e[o.transitionDelay]),n(e[o.transitionDuration]))}}:function(){return 0}},lib.event=e.assign({preventDefault:function(n){n.preventDefault()},stopPropagation:function(n){n.stopPropagation()}},new function(){function n(n){n.eventTypes.forEach(function(t){n.element.removeEventListener(t,n.callback)})}function t(n,t,e,i){var r;return 3==arguments.length&&(i=e,e=t,t=void 0),t?(t+=","+t+" *",r=function(e){var r=e.target;r.matches&&r.matches(t)&&(i.handleEvent?i.handleEvent(e):i.call(n,e))}):r=i,"string"==typeof e&&(e=e.split(/[\s,]+/)),e.forEach(function(t){n.addEventListener(t,r)}),{element:n,eventTypes:e,callback:r}}function e(e,i,r,o){function a(t){n(u),o.handleEvent?o.handleEvent(t):o.call(e,t)}var u;3==arguments.length&&(o=r,r=i,i=void 0),u=t(e,i,r,a)}function i(n,t,i){return 2==arguments.length&&(i=t,t=void 0),new Promise(function(r){e(n,t,i,r)})}return{off:n,on:t,one:e,when:i}},new function(){function t(n,t){return n?t.reduce(function(t,e){return-1==n.indexOf(e)&&t.push(e),t},[]):t}function e(n,t){var e=n.indexOf(t);return-1!=e&&n.splice(e,1),n.length}function i(n,t){return t||(t=a.getAnimationNames(n)),t.length?new Promise(function(i){function r(o){o.target!=n||e(t,o.animationName)||(n.removeEventListener(c,r),i(n))}n.addEventListener(c,r)}):Promise.resolve(n)}function r(t,e){var i;return e||(e=n.getComputedStyle(t)),i=a.getTransitionTime(e),i?new Promise(function(e){n.setTimeout(function(){e(t)},i)}):Promise.resolve(t)}function o(e,o){var u=n.getComputedStyle(e),s=a.getAnimationNames(u);return s=t(o,s),Promise.all([i(e,s),r(e,u)]).then(function(){return e})}var a=lib.css,u=a.animation,s=a.transition,c={animation:"animationend",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"}[u],f=Promise.resolve;return{animationEnd:c,animationStart:{animation:"animationstart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"}[u],animationIteration:{animation:"animationiteration",MozAnimation:"mozAnimationIteration",WebkitAnimation:"webkitAnimationIteration"}[u],transitionEnd:{transition:"transitionend",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd"}[s],awaitAnimationEnd:u?i:f,awaitTransitionEnd:s?r:f,awaitTransAnimEnd:u||s?o:f}}),lib.dom=e.assign({ready:function(){return"complete"==t.readyState?Promise.resolve():lib.event.when(t,"DOMContentLoaded")}},new function(){function t(n,t,e){var i=n.className,r=n.classList;return e.forEach(function(n){r[t](n)}),i!=n.className}function e(n,t){return o(t[0],n,i.slice(t,1))}var r=lib.css,o=r.animation||r.transition?function(e,i,o){var a=n.getComputedStyle(e),u=r.getAnimationNames(a);return t(e,i,o)?lib.event.awaitTransAnimEnd(e,u):Promise.resolve(e)}:function(n,e,i){return t(n,e,i),Promise.resolve(n)};return{addClass:function(){return e("add",arguments)},removeClass:function(){return e("remove",arguments)},toggleClass:function(){return e("toggle",arguments)}}}),lib.request=new function(){function i(n,t){return encodeURIComponent(n)+"="+encodeURIComponent(t)}function r(n){return e.keys(n).reduce(function(t,e){return t.push(i(e,n[e])),t},[]).join("&")}function o(n){n.onload=null,n.onabort=null,n.onerror=null,n.ontimeout=null}function a(t){var i=(t.method||"GET").toUpperCase(),a=t.url||n.location.href,s=t.data,c=t.userName||"",f=t.password||"",h=t.timeout||0,p=!1!==t.async,m=!1!==t.caching,d=!0===t.credentials,g=t.mimeType,v=t.advanced,y={"X-Requested-With":"XMLHttpRequest"};return e(s)===s&&(s instanceof FormData?y["Content-Type"]="multipart/form-data":s=r(s)),"POST"==i?y["Content-Type"]=y["Content-Type"]||"application/x-www-form-urlencoded; charset=UTF-8":(m||(a+="?no-cache="+u()),"string"==typeof s&&(a+=(m?"?":"&")+s),s=null),t.headers&&e.assign(y,t.headers),new Promise(function(n,t){function r(){o(this),this.status>=200&&this.status<400?n(this):t(new l(this.statusText))}function u(){o(this),t(new l("cancelled"))}function m(){o(this),t(new l(this.statusText))}function w(){o(this),t(new l("time is out"))}!new function(){var n=new XMLHttpRequest;n.open(i,a,p,c,f),d&&(n.withCredentials=!0),g&&n.overrideMimeType(g),e.keys(y).forEach(function(t){n.setRequestHeader(t,y[t])}),n.onload=r,n.onabort=u,n.onerror=m,h&&(n.timeout=h,n.ontimeout=w),v&&v(n),n.send(s)}})}var u=new function(){var n={};return function(){var t=f.random().toString().slice(2);return n[t]?u():(n[t]=1,t)}};return e.assign(a,{toQueryParam:i,toQueryString:r,get:function(n){return"string"==typeof n&&(n={url:n}),n.method="GET",a(n)},post:function(n){return n.method="POST",a(n)},json:function(n){return a.get(n).then(function(n){return JSON.parse(n.responseText)})},jsonp:function(n){return a.script(n)},script:function(i){var a,s,c;return"string"==typeof i&&(i={url:i}),a=i.url||n.location.href,s=i.data,c=i.caching!==!1,e(s)===s&&(s=r(s)),c||(a+="?no-cache="+u()),"string"==typeof s&&(a+=(c?"?":"&")+s),new Promise(function(n,i){t.head.appendChild(e.assign(t.createElement("script"),{onload:function(){o(this),this.remove(),n()},onerror:function(){o(this),this.remove(),i(new l("Could not load script"))},async:!0,defer:!0,src:a}))})}}),a},lib.cookie=new function(){function n(n){return l(f.cookie.replace(new c("(?:(?:^|.*;)\\s*"+h(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function e(n,t,e){e=e||{};var i="",r=e.end,u=e.path,c=e.domain,l=e.secure;if(!n||/^(?:expires|max\-age|path|domain|secure)$/i.test(n))return!1;if(r)switch(r.constructor){case a:i=1/0===r?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case o:i="; expires="+r;break;case s:i="; expires="+r.toUTCString()}return f.cookie=h(n)+"="+h(t)+i+(c?"; domain="+c:"")+(u?"; path="+u:"")+(l?"; secure":""),!0}function i(n,t){t=t||{};var e=t.path,i=t.domain;return n&&r(n)?(f.cookie=h(n)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(e?"; path="+e:""),!0):!1}function r(n){return new c("(?:^|;\\s*)"+h(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(f.cookie)}function u(){return f.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/).map(l)}var f=t,l=decodeURIComponent,h=encodeURIComponent;return{get:n,set:e,has:r,remove:i,keys:u}}}(window,document,Object,Array,Function,String,Number,Boolean,Date,RegExp,Math,Error,TypeError,isFinite,isNaN,parseFloat,parseInt);