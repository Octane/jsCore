//jsCore v0.4.4 IE9+ github.com/Octane/jsCore
!function(n,t,e,i,r,o,a,u,s,c,f,l,h,m,p,d,g){"use strict";function v(){}(function(){var n=e.create({});return n[0]=null,n.hasOwnProperty(0)})()||new function(){var n=e.create;e.create=function(t,i){var r=n(t,i);return e.hasOwnProperty.call(r,0)||(e.defineProperty(r,0,{configurable:!0}),delete r[0]),r}},e.assign||(e.assign=function(n){return i.prototype.slice.call(arguments,1).forEach(function(t){e.keys(t).forEach(function(e){n[e]=t[e]})}),n}),e.is||(e.is=function(n,t){return 0===n&&0===t?1/n===1/t:n!==n?t!==t:n===t}),i.from||(i.from=function(n,t,r){return e(n).length?t?i.map(n,t,r):i.slice(n,0):[]}),i.of||(i.of=function(){return i.from(arguments)}),i.prototype.find||(i.prototype.find=function(n,t){for(var e,i=this.length,r=0;i>r;){if(r in this&&(e=this[r],n.call(t,e,r,this)))return e;r++}return void 0}),i.prototype.findIndex||(i.prototype.findIndex=function(n,t){for(var e,i=this.length,r=0;i>r;){if(r in this&&(e=this[r],n.call(t,e,r,this)))return r;r++}return-1}),i.prototype.fill||(i.prototype.fill=function(n,t,e){var i,r=this.length;t=a(t)||0,e=2 in arguments?a(e)||0:r,i=0>t?f.max(r+t,0):f.min(t,r),e=0>e?f.max(r+e,0):f.min(e,r);for(;e>i;)this[i]=n,i++;return this}),o.prototype.startsWith||(o.prototype.startsWith=function(n,t){return t||(t=0),this.indexOf(n,t)==t}),o.prototype.endsWith||(o.prototype.endsWith=function(n,t){var e;return t=t||this.length,t-=n.length,e=this.lastIndexOf(n),-1!=e&&e==t}),o.prototype.contains||(o.prototype.contains=function(n,t){return-1!=this.indexOf(n,t||0)}),o.prototype.repeat||(o.prototype.repeat=function(n){return new i(n+1).join(this)}),a.isFinite||(a.isFinite=function(n){return"number"==typeof n&&m(n)}),a.isInteger||(a.isInteger=function(n){return"number"==typeof n&&m(n)&&n>-9007199254740992&&9007199254740992>n&&f.floor(n)==n}),a.isNaN||(a.isNaN=function(n){return"number"==typeof n&&p(n)}),a.parseInt||(a.parseInt=g),a.parseFloat||(a.parseFloat=d),f.trunc||(f.trunc=function(n){return n=a(n),p(n)||0===n||!a.isFinite(n)?n:f.sign(n)*f.floor(f.abs(n))}),f.sign||(f.sign=function(n){return 0===n||p(n)?n:(n>0)-(0>n)}),new function(){function n(n,t){var e=t[0];switch(t.length){case 1:return n.call(e);case 2:return n.call(e,t[1]);case 3:return n.call(e,t[1],t[2])}return n.apply(e,i.prototype.slice.call(t,1))}function t(t){return function(){return n(t,arguments)}}function r(n,e){return e.reduce(function(e,i){return e[i]=t(n[i]),e},{})}function a(n,t){e.keys(t).forEach(function(e){e in n||(n[e]=t[e])})}a(i,r(i.prototype,["concat","every","fill","filter","find","findIndex","forEach","indexOf","join","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","unshift"])),a(o,r(o.prototype,["charAt","charCodeAt","concat","contains","endsWith","indexOf","lastIndexOf","match","repeat","replace","search","slice","split","startsWith","substr","substring","toLowerCase","toUpperCase","trim"]))},n.Set||(n.Set=new function(){function n(){if(arguments.length)throw l("Set implementation doesn't accept parameters");this.length=0}return e.assign(n.prototype,{size:0,add:function(n){this.has(n)||(this.size=i.push(this,n))},has:function(n){return-1!=i.findIndex(this,function(t){return e.is(n,t)})},"delete":function(n){var t=i.findIndex(this,function(t){return e.is(n,t)});return-1==t?!1:(i.splice(this,t,1),this.size--,!0)},clear:function(){i.splice(this,0,this.length),this.size=0}}),n}),n.Map||(n.Map=new function(){function n(){if(arguments.length)throw l("Map implementation doesn't accept parameters");this.length=0}var t=0,r=1;return e.assign(n.prototype,{size:0,_getPair:function(n){return i.find(this,function(i){return e.is(n,i[t])})},set:function(n,t){var e=this._getPair(n);e?e[r]=t:this.size=i.push(this,[n,t])},get:function(n){return e(this._getPair(n))[r]},has:function(n){return u(this._getPair(n))},"delete":function(n){var r=i.findIndex(this,function(i){return e.is(n,i[t])});return-1==r?!1:(i.splice(this,r,1),this.size--,!0)},clear:function(){i.splice(this,0,this.length),this.size=0}}),n}),n.WeakSet||(n.WeakSet=new function(){function n(){if(arguments.length)throw l("WeakSet implementation doesn't accept parameters");this.length=0}function t(n){return this===n}function r(n){if(e(n)!==n)throw h("Invalid value used in weak set");return n}return e.assign(n.prototype,{add:function(n){this.has(r(n))||i.push(this,n)},has:function(n){return-1!=i.findIndex(this,t,r(n))},"delete":function(n){var e=i.findIndex(this,t,r(n));return-1==e?!1:(i.splice(this,e,1),!0)},clear:function(){i.splice(this,0,this.length)}}),n}),n.WeakMap||(n.WeakMap=new function(){function n(){if(arguments.length)throw l("WeakMap implementation doesn't accept parameters");this.length=0}function t(n){return this===n[o]}function r(n){if(e(n)!==n)throw h("Invalid value used as weak map key");return n}var o=0,a=1;return e.assign(n.prototype,{_getPair:function(n){return i.find(this,t,r(n))},set:function(n,t){var e=this._getPair(n);e?e[a]=t:i.push(this,[n,t])},get:function(n){return e(this._getPair(n))[a]},has:function(n){return u(this._getPair(n))},"delete":function(n){var e=i.findIndex(this,t,r(n));return-1==e?!1:(i.splice(this,e,1),!0)},clear:function(){i.splice(this,0,this.length)}}),n}),n.setImmediate||e.assign(n,n.msSetImmediate?{setImmediate:n.msSetImmediate,clearImmediate:n.msClearImmediate}:new function(){function t(t){var e=t[0];switch(t.length){case 1:return e();case 2:return e(t[1]);case 3:return e(t[1],t[2])}return e.apply(n,i.prototype.slice.call(t,1))}function e(n){var e,i=n.data;"string"==typeof i&&i.startsWith(u)&&(e=o[i],e&&(t(e),delete o[i]))}var r=0,o={},a=!0,u="setImmediatePolyfillMessage";return{setImmediate:function(){var t=u+ ++r;return o[t]=arguments,a&&(a=!1,n.addEventListener("message",e)),n.postMessage(t,"*"),r},clearImmediate:function(n){delete o[u+n]}}}),n.Promise||(n.Promise=new function(){function t(n){return n instanceof f}function r(n){return n._settled}function o(n){return i.every(n,r)}function a(n){return n}function u(n){throw n}function s(n,t){try{n(t)}catch(e){}}function c(t,e){t.forEach(function(t){n.setImmediate(s,t,e)})}function f(n,t){return e.assign(this,{_resolver:n,_pending:!0,_settled:!1,_fulfilled:!1,_rejected:!1,_value:void 0,_reason:void 0,_onFulfilled:[],_onRejected:[]}),t?this:this.then()}return e.assign(f,{resolve:function(n){return t(n)?n.then(a,u):new f(function(t){t(n)})},reject:function(n){return new f(function(t,e){e(n)})},race:function(n){return new f(function(t,e){i.forEach(n,function(n){n.then(t,e)})})},all:function(n){return new f(function(t,e){var r=[];i.forEach(n,function(i,a){i.then(function(e){r[a]=e,o(n)&&t(r)},e)})})}}),e.assign(f.prototype,{_enqueue:function(n,t){this._onFulfilled.push(n||a),this._onRejected.push(t||u)},_clearQueue:function(){this._onFulfilled=[],this._onRejected=[]},then:function(e,i){function r(n){m._value=n,c(m._onFulfilled,n),m._clearQueue()}function o(n){m._reason=n,c(m._onRejected,n),m._clearQueue()}function s(i){h||(h=!0,m._value=i,n.setImmediate(function(){m._settled=!0;try{m._value=e(m._value),m._fulfilled=!0}catch(n){m._reason=n,m._rejected=!0,o(m._reason)}m._fulfilled&&(t(m._value)?m._value.then(r,o):r(m._value))}))}function l(e){h||(h=!0,m._reason=e,n.setImmediate(function(){m._settled=!0;try{m._reason=i(m._reason),m._rejected=!0}catch(n){m._reason=n,m._rejected=!0,o(m._reason)}m._rejected&&(t(m._reason)?m._reason.then(r,o):r(m._value))}))}var h,m=this;e=e||a,i=i||u;try{m._pending?(m._pending=!1,m._resolver(s,l)):m._fulfilled?s(m._value):m._rejected?l(m._reason):m._enqueue(e,i)}catch(p){m._fulfilled&&m._rejected||l(p)}return new f(function(n,t){m._enqueue(n,t)},!0)},"catch":function(n){return this.then(void 0,n)}}),f}),n.requestAnimationFrame||e.assign(n,{requestAnimationFrame:[n.msRequestAnimationFrame,n.mozRequestAnimationFrame,n.webkitRequestAnimationFrame,new function(){var t=60,e=1e3/t,i=s.now(),r=i;return function(t){var o=s.now(),a=f.max(0,e-(o-r)),u=o+a;return r=u,n.setTimeout(function(){t(u-i)},a)}}].find(u),cancelAnimationFrame:[n.mozCancelAnimationFrame,n.webkitCancelAnimationFrame,n.cancelRequestAnimationFrame,n.msCancelRequestAnimationFrame,n.mozCancelRequestAnimationFrame,n.webkitCancelRequestAnimationFrame,n.clearTimeout].find(u)}),"dataset"in t.documentElement||e.defineProperty(HTMLElement.prototype,"dataset",{get:new function(){function n(n){return n.charAt(1).toUpperCase()}function t(t){return t.substr(5).replace(/-./g,n)}function r(n){return{get:function(){return n.value},set:function(t){n.value=o(t)}}}function a(n,o){return i.forEach(o,function(i){var o=i.name.toLowerCase();o.startsWith("data-")&&e.defineProperty(n,t(o),r(i))}),n}return function(){return a(new v,this.attributes)}}}),"children"in t.createDocumentFragment()||new function(){function n(n){n in i||e.defineProperty(i,n,{get:o[n]})}var i,r=1,o={firstElementChild:function(){for(var n=this.firstChild;n&&r!=n.nodeType;)n=n.nextSibling;return n},lastElementChild:function(){for(var n=this.lastChild;n&&r!=n.nodeType;)n=n.previousSibling;return n},nextElementSibling:function(){var n=this;do n=n.nextSibling;while(n&&r!=n.nodeType);return n},previousElementSibling:function(){var n=this;do n=n.previousSibling;while(n&&r!=n.nodeType);return n},childElementCount:function(){return this.children.length},children:new function(){function n(){}return n.prototype.item=function(n){return this[n]||null},function(){for(var t,e=new n,i=this.childNodes,o=i.length,a=0,u=0;o>a;)t=i[a],r==t.nodeType&&(e[u++]=t),a++;return e.length=u,e}}};i=HTMLElement.prototype,e.keys(o).forEach(n),[t.constructor,t.createDocumentFragment().constructor].forEach(function(t){i=t.prototype,["firstElementChild","lastElementChild","childElementCount","children"].forEach(n)})},"append"in t.createDocumentFragment()||new function(){function n(n,t,e){return-1!=i.indexOf(n.querySelectorAll(e),t)}function r(n){var e,r,o,a=n.length;if(1==a)return e=n[0],"string"==typeof e?t.createTextNode(e):e;for(r=t.createDocumentFragment(),n=i.from(n),o=0;a>o;)e=n[o],"string"==typeof e&&(e=t.createTextNode(e)),r.appendChild(e),o++;return r}function o(n){n in s||(s[n]=c[n])}var a=1,s=HTMLElement.prototype,c={before:function(){var n=this.parentNode;n&&n.insertBefore(r(arguments),this)},after:function(){var n,t,e=this.parentNode;e&&(t=r(arguments),n=this.nextSibling,n?e.insertBefore(t,n):e.appendChild(t))},replace:function(){var n=this.parentNode;n&&n.replaceChild(r(arguments),this)},remove:function(){var n=this.parentNode;n&&n.removeChild(this)},append:function(){this.appendChild(r(arguments))},prepend:function(){this.insertBefore(r(arguments),this.firstChild)},query:function(n){return this.querySelector(n)},queryAll:function(n){return this.querySelectorAll(n)},matches:[s.matchesSelector,s.oMatchesSelector,s.msMatchesSelector,s.mozMatchesSelector,s.webkitMatchesSelector,function(e){var i,r;return this===t?!1:(r=this.parentNode)?(a==r.nodeType&&(r=r.ownerDocument),n(r,this,e)):(r=t.createDocumentFragment(),r.appendChild(this),i=n(r,this,e),void r.removeChild(this))}].find(u)};e.keys(c).forEach(o),s=t.constructor.prototype,["query","queryAll"].forEach(o),s=t.createDocumentFragment().constructor.prototype,["append","prepend","query","queryAll","matches"].forEach(o)},"classList"in t.documentElement||e.defineProperty(HTMLElement.prototype,"classList",{get:new function(){function n(n,t){this._getTokens=n,this._onChange=t}function t(n){return n=n.trim(),n?n.split(/\s\s*/):[]}return e.assign(n.prototype,{_clear:function(){i.splice(this,0,this.length)},_push:function(n){i.prototype.push.apply(this,n)},_update:function(){this._clear(),this._push(this._getTokens())},item:function(n){return this._update(),this[n]||null},add:function(){var n;this._update(),n=this.length,i.forEach(arguments,function(n){-1==i.indexOf(this,n)&&i.push(this,n)},this),n!=this.length&&this._onChange()},remove:function(){var n;this._update(),n=this.length,i.forEach(arguments,function(n){var t=i.indexOf(this,n);-1!=t&&i.splice(this,t,1)},this),n!=this.length&&this._onChange()},toggle:function(n,t){return this._update(),t===!1||this.contains(n)?(this.remove(n),!1):(this.add(n),!0)},contains:function(n){return this._update(),-1!=i.indexOf(this,n)},toString:function(){return i.join(this," ")}}),function(){var e=this;return e._classList||(e._classList=new n(function(){return t(e.className)},function(){e.className=this.toString()})),e._classList._update(),e._classList}}}),n.FormData||(n.FormData=new function(){function n(n){this.boundary=t(),n&&i.prototype.push.apply(this,r(n))}var t=new function(){function n(){var e=f.random().toString().slice(2);return t[e]?n():(t[e]=1,e)}var t={};return function(){return"-------------------------"+n()}},r=new function(){function n(n){return n.selected}function t(t){var e=t.nodeName.toLowerCase(),r=t.type;return t.name?t.disabled?!1:"fieldset"==e?!1:"select"==e&&t.multiple?i.some(t.options,n):"submit"==r||"reset"==r||"button"==r||"file"==r?!1:"radio"!=r&&"checkbox"!=r||!t.checked?!0:!1:!1}function e(t){return"select"==t.tagName.toLowerCase()&&t.multiple?i.reduce(t.options,function(t,e){return n(e)&&t.push(e.value),t},[]):[t.value]}return function(n){return i.reduce(n.elements,function(n,i){return t(i)&&e(i).forEach(function(t){n.push({name:i.name,value:t})}),n},[])}};return e.assign(n.prototype,{notNative:!0,append:function(n,t,e){i.push(this,{name:n,value:t,fileName:e})},toString:function(){var n=this.boundary,t="";return i.forEach(this,function(i){var r=i.name,o=i.value,a=i.fileName||o.name;t+="--"+n+"\r\n",e(o)===o?(t+='Content-Disposition: form-data; name="',t+=r+'"; filename="'+a+'"\r\n',t+="Content-Type: "+o.type+"\r\n\r\n",t+=o.content+"\r\n"):(t+='Content-Disposition: form-data; name="',t+=r+'"\r\n\r\n',t+=o+"\r\n")}),t+="--"+n+"--"}}),XMLHttpRequest.prototype.send=new function(){var t=XMLHttpRequest.prototype.send;return function(e){e instanceof n&&(this.setRequestHeader("Content-Type","multipart/form-data; boundary="+e.boundary),e=e.toString()),t.call(this,e)}},n}),n.lib={},e.assign(lib,{isTrue:function(n){return!0===n},isFalse:function(n){return!1===n},isHTML:function(n){return n.startsWith("<")&&n.endsWith(">")},isObject:function(n){return e(n)===n},isHTMLElement:function(n){return n instanceof HTMLElement}}),lib.classExtends=function(n,t){n.prototype=e.create(t.prototype),n.prototype.constructor=n,n.Super=t},lib.array={count:function(n){return i.reduce(n,function(n){return n+1},0)},contains:function(n,t,e){return-1!=i.indexOf(n,t,e)},unique:function(n){for(var t,e=[],i=n.length,r=0,o=0;i>r;)t=n[r],-1==e.indexOf(t)&&(e[o++]=t),r++;return e},all:function(n,t,i){var r=e(n).length;if(!r)return!1;for(;r--;){if(!(r in n))return!1;if(!t.call(i,n[r]))return!1}return!0},refine:function(n){return i.reduce(n,function(n,t){return n.push(t),n},[])},range:function(n,t){var e=[];1 in arguments||(t=n,n=0);for(;t>n;)e.push(n),n++;return e},shuffle:function(n){for(var t,e,r=i.from(n),o=r.length;o--;)t=f.floor(f.random()*(o+1)),e=r[t],r[t]=r[o],r[o]=e;return r},remove:function(n,t){var e=i.indexOf(n,t);return-1!=e&&i.splice(n,e,1)}},lib.date=new function(){var n=this,t=[31,28,31,30,31,30,31,31,30,31,30,31];n.isLeapYear=function(n){return arguments.length||(n=new s),n instanceof s&&(n=n.getFullYear()),n%4==0&&n%100!=0||n%400==0},n.getMonthLength=function(e,i){return arguments.length||(e=new s),e instanceof s&&(i=e.getFullYear(),e=e.getMonth()),1==e&&n.isLeapYear(i)?29:t[e]}},lib.html={parse:function(n){var e=t.createElement("div"),i=t.createDocumentFragment();for(e.innerHTML=n;e.hasChildNodes();)i.appendChild(e.firstChild);return i},escape:function(n){var e=t.createElement("div");return e.appendChild(t.createTextNode(n)),e.innerHTML},unescape:function(n){var e=t.createElement("div");return e.innerHTML=n,e.textContent}},lib.Template=new function(){function n(n){this.template=n}return n.match=function(n,t){return i.isArray(n)&&(n=n.join("")),e.keys(t).reduceRight(function(n,e){var i=t[e];return n.split("{"+e.toUpperCase()+"}").join(i)},n)},n.prototype.match=function(t){return n.match(this.template,t)},n},lib.I18n=new function(){function n(n){this.messageBundle=this[n]}function t(n,t){this.locale=n,this[n]=t}function e(e,i){function r(n,t){return n in r.messageBundle&&(n=r.messageBundle[n]),t?lib.Template.match(n,t):n}return r.add=t,r.use=n,r.add(e,i),r.use(e),r}return e},lib.css=new function(){var r,o=this;o.prefix=r=new function(){var n={},e=["ms","O","Webkit","Moz"],i=new function(){var n=t.documentElement.style,e=n.constructor.prototype;return"top"in e?e:n};return function(t){var r,o,a;if(t in n)return n[t];if(t in i)return n[t]=t,t;for(o=t.charAt(0).toUpperCase()+t.slice(1),a=e.length;a--;)if(r=e[a]+o,r in i)return n[t]=r,r;return void(n[t]=void 0)}},new function(){var n={animation:["Delay","Direction","Duration","FillMode","IterationCount","Name","PlayState","TimingFunction"],transition:["Delay","Duration","Property","TimingFunction"],transform:["Origin","Style"]};e.keys(n).forEach(function(t){var e=r(t);e&&(o[t]=e,n[t].forEach(function(n){o[t+n]=e+n}))})},o.getAnimationNames=new function(){function n(n){return"none"!=n}var t=/,\s*/;return function(e){var i=e[o.animationName];return i?i.split(t).filter(n):[]}},o.set=new function(){function t(n,t){e.keys(t).forEach(function(e){n[r(e)]=t[e]})}return o.transition||o.animation?function(e,i){var r=n.getComputedStyle(e),a=o.getAnimationNames(r);return t(e.style,i),lib.event.awaitTransAnimEnd(e,a)}:function(n,e){return t(n.style,e),Promise.resolve(n)}},o.get=function(t,e){var o=n.getComputedStyle(t);return i.isArray(e)?e.reduce(function(n,t){return n[t]=o[r(t)],n},{}):o[r(e)]},o.getTransitionTime=o.transition?new function(){function n(n){return n.split(",").map(function(n){return a.parseFloat(n)||0})}function t(n,t){for(var e,i=0,r=f.max(t.length,n.length),o=0;r>o;)e=(n[o]||0)+(t[o]||0),e>i&&(i=e),o++;return f.ceil(1e3*i)}return function(e){return t(n(e[o.transitionDelay]),n(e[o.transitionDuration]))}}:function(){return 0}},lib.event=e.assign({preventDefault:function(n){n.preventDefault()},stopPropagation:function(n){n.stopPropagation()}},new function(){function n(n){n.eventTypes.forEach(function(t){n.element.removeEventListener(t,n.callback)})}function t(n,t,e,i){var r;return 3==arguments.length&&(i=e,e=t,t=void 0),t?(t+=","+t+" *",r=function(e){var r=e.target;r.matches&&r.matches(t)&&(i.handleEvent?i.handleEvent(e):i.call(n,e))}):r=i,"string"==typeof e&&(e=e.split(/[\s,]+/)),e.forEach(function(t){n.addEventListener(t,r)}),{element:n,eventTypes:e,callback:r}}function e(e,i,r,o){function a(t){n(u),o.handleEvent?o.handleEvent(t):o.call(e,t)}var u;3==arguments.length&&(o=r,r=i,i=void 0),u=t(e,i,r,a)}function i(n,t,i){return 2==arguments.length&&(i=t,t=void 0),new Promise(function(r){e(n,t,i,r)})}return{off:n,on:t,one:e,when:i}},new function(){function t(n,t){return n?t.reduce(function(t,e){return-1==n.indexOf(e)&&t.push(e),t},[]):t}function e(n,t){var e=n.indexOf(t);return-1!=e&&n.splice(e,1),n.length}function i(n,t){return t||(t=a.getAnimationNames(n)),t.length?new Promise(function(i){function r(o){e(t,o.animationName)||(n.removeEventListener(c,r),i(n))}n.addEventListener(c,r)}):Promise.resolve(n)}function r(t,e){var i;return e||(e=n.getComputedStyle(t)),i=a.getTransitionTime(e),i?new Promise(function(e){n.setTimeout(function(){e(t)},i)}):Promise.resolve(t)}function o(e,o){var u=n.getComputedStyle(e),s=a.getAnimationNames(u);return s=t(o,s),Promise.all([i(e,s),r(e,u)]).then(function(){return e})}var a=lib.css,u=a.animation,s=a.transition,c={animation:"animationend",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"}[u],f=Promise.resolve;return{animationEnd:c,animationStart:{animation:"animationstart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"}[u],animationIteration:{animation:"animationiteration",MozAnimation:"mozAnimationIteration",WebkitAnimation:"webkitAnimationIteration"}[u],transitionEnd:{transition:"transitionend",MozTransition:"mozTransitionEnd",WebkitTransition:"webkitTransitionEnd"}[s],awaitAnimationEnd:u?i:f,awaitTransitionEnd:s?r:f,awaitTransAnimEnd:u||s?o:f}}),lib.dom=e.assign({ready:function(){return"complete"==t.readyState?Promise.resolve():lib.event.when(t,"DOMContentLoaded")}},new function(){function t(n,t,e){var i=n.className,r=n.classList;return e.forEach(function(n){r[t](n)}),i!=n.className}function e(n,t){return o(t[0],n,i.slice(t,1))}var r=lib.css,o=r.animation||r.transition?function(e,i,o){var a=n.getComputedStyle(e),u=r.getAnimationNames(a);return t(e,i,o)?lib.event.awaitTransAnimEnd(e,u):Promise.resolve(e)}:function(n,e,i){return t(n,e,i),Promise.resolve(n)};return{addClass:function(){return e("add",arguments)},removeClass:function(){return e("remove",arguments)},toggleClass:function(){return e("toggle",arguments)}}}),lib.request=new function(){function i(n,t){return encodeURIComponent(n)+"="+encodeURIComponent(t)}function r(n){return e.keys(n).reduce(function(t,e){return t.push(i(e,n[e])),t},[]).join("&")}function o(n){n.onload=null,n.onerror=null,n.ontimeout=null}function a(t){var i=(t.method||"GET").toUpperCase(),a=t.url||n.location.href,s=t.data,c=t.userName||"",f=t.password||"",h=t.timeout||0,m=!1!==t.async,p=!1!==t.caching,d=!0===t.credentials,g=t.mimeType,v={"X-Requested-With":"XMLHttpRequest"};return e(s)===s&&(s instanceof FormData?v["Content-Type"]="multipart/form-data":s=r(s)),"POST"==i?v["Content-Type"]=v["Content-Type"]||"application/x-www-form-urlencoded; charset=UTF-8":(p||(a+="?no-cache="+u()),"string"==typeof s&&(a+=(p?"?":"&")+s),s=null),t.headers&&e.assign(v,t.headers),new Promise(function(n,t){function r(){o(this),this.status>=200&&this.status<400?n(this):t(new l(this.statusText))}function u(){o(this),t(new l(this.statusText))}function p(){o(this),t(new l("time is out"))}!new function(){var n=new XMLHttpRequest;n.open(i,a,m,c,f),d&&(n.withCredentials=!0),g&&n.overrideMimeType(g),e.keys(v).forEach(function(t){n.setRequestHeader(t,v[t])}),n.onload=r,n.onerror=u,h&&(n.timeout=h,n.ontimeout=p),n.send(s)}})}var u=new function(){var n={};return function(){var t=f.random().toString().slice(2);return n[t]?u():(n[t]=1,t)}};return e.assign(a,{toQueryParam:i,toQueryString:r,get:function(n){return"string"==typeof n&&(n={url:n}),n.method="GET",a(n)},post:function(n){return n.method="POST",a(n)},json:function(n){return a.get(n).then(function(n){return JSON.parse(n.responseText)})},jsonp:function(n){return a.script(n)},script:function(i){var a,s,c;return"string"==typeof i&&(i={url:i}),a=i.url||n.location.href,s=i.data,c=i.caching!==!1,e(s)===s&&(s=r(s)),c||(a+="?no-cache="+u()),"string"==typeof s&&(a+=(c?"?":"&")+s),new Promise(function(n,i){t.head.appendChild(e.assign(t.createElement("script"),{onload:function(){o(this),this.remove(),n()},onerror:function(){o(this),this.remove(),i(new l("Could not load script"))},async:!0,defer:!0,src:a}))})}}),a}}(window,document,Object,Array,Function,String,Number,Boolean,Date,RegExp,Math,Error,TypeError,isFinite,isNaN,parseFloat,parseInt);